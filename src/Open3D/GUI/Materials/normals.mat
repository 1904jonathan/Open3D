material {
    name : normals,
    shadingModel : unlit,

    requires: [
        color
    ],

    variables: [
        normalWorld
    ],
}

vertex {
    void materialVertex(inout MaterialVertexInputs material) {
        gl_PointSize = 3.0;

        float4 normalModel = material.color;
        material.normalWorld = getViewFromWorldMatrix()*getWorldFromModelMatrix()*normalModel;
    }
}

fragment {
    void material(inout MaterialInputs material) {
        prepareMaterial(material);
        material.baseColor.rgb = variable_normalWorld.xyz*0.5 + 0.5;
    }
}
