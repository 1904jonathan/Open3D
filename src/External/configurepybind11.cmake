SET(LIB_NAME         "pybind11")
SET(MIN_VERSION      "2.2.0")
SET(DOWNLOAD_VERSION "2.2.2")
SET(DOWNLOAD_TYPE    "URL")
SET(DOWNLOAD_URL     "https://github.com/pybind/pybind11/archive/v${DOWNLOAD_VERSION}.tar.gz")
SET(BASE_DIR         "${CMAKE_BINARY_DIR}/${LIB_NAME}")
SET(DOWNLOADER_DIR   "${BASE_DIR}-download")
SET(BUILD_SOURCE     OFF)
SET(INSTALL_SOURCE   ON)
SET(CONFIG_OPTIONS   -DPYBIND11_TEST:BOOL=OFF)

include(configure.cmake)

IF (NOT ${${LIB_NAME_UPPER}_FOUND})

    SET(${LIB_NAME_UPPER}_INCLUDE_DIR ${INCLUDE_DIR} CACHE PATH "The path to ${LIB_NAME} headers" FORCE)
    MESSAGE(STATUS "${LIB_NAME_UPPER}_INCLUDE_DIR: ${${LIB_NAME_UPPER}_INCLUDE_DIR}")
    
ENDIF()

IF (Open3D_INSTALL_EXTERNALS)
    install(DIRECTORY ${${LIB_NAME_UPPER}_INCLUDE_DIR}/pybind11
        DESTINATION include COMPONENT Devel)
ENDIF()
